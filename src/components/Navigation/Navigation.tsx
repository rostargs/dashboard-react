import React from "react";
import "./Navigation.scss";
import { Link } from "react-router-dom";
import Logo from "../../../public/logo.svg";
import Greeting from "../../../public/Greeting.svg";
import CustomLink from "../../ui/CustomLink/CustomLink";
import Burger from "../../../public/burger.svg";
import Times from "../../../public/times.svg";
import Overlay from "../../ui/Overlay/Overlay";
import { RootState, useAppSelector, useAppDispatch } from "../../redux/store";
import { onToggleNavigation } from "../../redux/slices/toggleSlice";
import { onClickLink } from "../../redux/slices/toggleSlice";

const Navigation: React.FC = () => {
  const { navigation, modalCourse, taskForm } = useAppSelector(
    (state: RootState) => state.toggle
  );
  const links = React.useMemo(
    () => [
      {
        name: "Overview",
        src: "",
        d: "M18.339 5.65948C19.009 6.17848 19.42 6.94948 19.49 7.78848L19.5 7.98948V16.0985C19.5 18.1885 17.849 19.8885 15.78 19.9985H13.79C12.839 19.9795 12.07 19.2395 12 18.3095L11.99 18.1685V15.3095C11.99 14.9985 11.759 14.7395 11.45 14.6885L11.36 14.6785H8.689C8.37 14.6885 8.11 14.9185 8.07 15.2185L8.06 15.3095V18.1595C8.06 18.2185 8.049 18.2885 8.04 18.3385L8.03 18.3595L8.019 18.4285C7.9 19.2795 7.2 19.9285 6.33 19.9895L6.2 19.9985H4.41C2.32 19.9985 0.61 18.3595 0.5 16.2985V7.98948C0.509 7.13848 0.88 6.34848 1.5 5.79848L7.73 0.788477C9 -0.220523 10.78 -0.260523 12.089 0.668477L12.25 0.788477L18.339 5.65948ZM18.099 16.2585L18.11 16.0985V7.99848C18.099 7.56948 17.92 7.16848 17.61 6.86948L17.48 6.75848L11.38 1.87848C10.62 1.26848 9.54 1.23948 8.74 1.76848L8.589 1.87848L2.509 6.77948C2.16 7.03848 1.95 7.42848 1.9 7.83848L1.889 7.99848V16.0985C1.889 17.4285 2.929 18.5185 4.25 18.5985H6.2C6.42 18.5985 6.61 18.4495 6.639 18.2395L6.66 18.0595L6.67 18.0085V15.3095C6.67 14.2395 7.49 13.3695 8.54 13.2885H11.36C12.429 13.2885 13.299 14.1095 13.38 15.1595V18.1685C13.38 18.3785 13.53 18.5595 13.73 18.5985H15.589C16.929 18.5985 18.019 17.5695 18.099 16.2585Z",
      },
      {
        name: "Courses",
        src: "course",
        d: "M6.01348 0H2.97574C1.33089 0 0 1.34244 0 2.99552V6.05963C0 7.71203 1.33117 9.05515 2.97574 9.05515H6.01348C7.65805 9.05515 8.98922 7.71203 8.98922 6.05963V2.99552C8.98922 1.34244 7.65833 0 6.01348 0ZM2.97574 1.39535H6.01348C6.88499 1.39535 7.59387 2.11039 7.59387 2.99552V6.05963C7.59387 6.94418 6.88461 7.6598 6.01348 7.6598H2.97574C2.10461 7.6598 1.39535 6.94418 1.39535 6.05963V2.99552C1.39535 2.11039 2.10423 1.39535 2.97574 1.39535ZM17.0252 0H13.9865C12.3417 0 11.0108 1.34244 11.0108 2.99552V6.05963C11.0108 7.71203 12.342 9.05515 13.9865 9.05515H17.0252C18.669 9.05515 20 7.71184 20 6.05963V2.99552C20 1.34264 18.6693 0 17.0252 0ZM13.9865 1.39535H17.0252C17.8959 1.39535 18.6047 2.11049 18.6047 2.99552V6.05963C18.6047 6.94407 17.8955 7.6598 17.0252 7.6598H13.9865C13.1154 7.6598 12.4061 6.94418 12.4061 6.05963V2.99552C12.4061 2.11039 13.115 1.39535 13.9865 1.39535ZM2.97574 10.9449H6.01348C7.65852 10.9449 8.98922 12.2875 8.98922 13.9413V17.0045C8.98922 18.6576 7.65833 20 6.01348 20H2.97574C1.33089 20 0 18.6576 0 17.0045V13.9413C0 12.2875 1.3307 10.9449 2.97574 10.9449ZM6.01348 12.3402H2.97574C2.10413 12.3402 1.39535 13.0553 1.39535 13.9413V17.0045C1.39535 17.8896 2.10423 18.6047 2.97574 18.6047H6.01348C6.88499 18.6047 7.59387 17.8896 7.59387 17.0045V13.9413C7.59387 13.0553 6.88509 12.3402 6.01348 12.3402ZM17.0252 10.9449H13.9865C12.3415 10.9449 11.0108 12.2875 11.0108 13.9413V17.0045C11.0108 18.6576 12.3417 20 13.9865 20H17.0252C18.6693 20 20 18.6574 20 17.0045V13.9413C20 12.2877 18.6695 10.9449 17.0252 10.9449ZM13.9865 12.3402H17.0252C17.896 12.3402 18.6047 13.0554 18.6047 13.9413V17.0045C18.6047 17.8895 17.8959 18.6047 17.0252 18.6047H13.9865C13.115 18.6047 12.4061 17.8896 12.4061 17.0045V13.9413C12.4061 13.0553 13.1149 12.3402 13.9865 12.3402Z",
      },
      {
        name: "Planning",
        src: "planning",
        d: "M7.38459 0H5.4528C1.72991 0 0 2.17544 0 6.22847V13.7715C0 17.6361 2.36352 20 6.22905 20H13.7533C17.6114 20 19.9735 17.6347 19.9735 13.7715L20 8.97058C20 4.92273 18.3106 2.94127 14.5296 2.94127H11.7951C11.3298 2.94034 10.8906 2.72042 10.6098 2.34714L9.72808 1.17286C9.17526 0.434786 8.30684 0 7.38459 0ZM5.4528 1.45147H7.38459C7.85058 1.45147 8.28937 1.67116 8.56896 2.04444L9.45158 3.21988C10.0059 3.95693 10.8727 4.3909 11.7936 4.39273L14.5296 4.39274C17.4547 4.39274 18.5505 5.67793 18.5505 8.96658L18.524 13.7675C18.524 16.8331 16.8109 18.5485 13.7533 18.5485H6.22905C3.1637 18.5485 1.44955 16.8341 1.44955 13.7715V6.22847C1.44955 2.91372 2.61233 1.45147 5.4528 1.45147ZM15.3425 12.5438C15.3425 12.143 15.0181 11.8181 14.6178 11.8181H5.34695L5.24861 11.8247C4.89484 11.8727 4.62218 12.1764 4.62218 12.5438C4.62218 12.9446 4.94667 13.2695 5.34695 13.2695H14.6178L14.7161 13.2629C15.0699 13.2149 15.3425 12.9112 15.3425 12.5438Z",
      },
      {
        name: "Create course",
        src: "create-course",
        d: "M0 0.909091L0.909091 0H8.18182L9.09091 0.909091V8.18182L8.18182 9.09091H0.909091L0 8.18182V0.909091ZM1.81818 1.81818V7.27273H7.27273V1.81818H1.81818ZM11.8182 0L10.9091 0.909091V8.18182L11.8182 9.09091H19.0909L20 8.18182V0.909091L19.0909 0H11.8182ZM12.7273 7.27273V1.81818H18.1818V7.27273H12.7273ZM16.3636 20H14.5455V16.3636H10.9091V14.5455H14.5455V10.9091H16.3636V14.5455H20V16.3636H16.3636V20ZM0.909091 10.9091L0 11.8182V19.0909L0.909091 20H8.18182L9.09091 19.0909V11.8182L8.18182 10.9091H0.909091ZM1.81818 18.1818V12.7273H7.27273V18.1818H1.81818Z",
      },
      {
        name: "Settings",
        src: "settings",
        d: "M10.6161 0H9.38106C8.6855 0 8.01861 0.27155 7.52796 0.754574C7.09307 1.1827 6.82704 1.74716 6.77575 2.34781L6.76724 2.54181C6.75775 3.17352 6.24742 3.66634 5.62101 3.66628C5.47895 3.6648 5.33141 3.63238 5.19559 3.5713L5.06235 3.50171C3.83155 2.81017 2.23128 3.23376 1.50918 4.46166L0.859895 5.50695C0.169493 6.68048 0.510007 8.15476 1.62449 8.91408L1.77948 9.01151C2.16149 9.22838 2.37987 9.59896 2.37987 10C2.37987 10.3688 2.19491 10.7137 1.88645 10.9228L1.78115 10.9875C0.626514 11.6412 0.171573 13.0841 0.751966 14.2844L0.83679 14.4442L1.47412 15.5224C1.80539 16.1083 2.37306 16.5497 3.04445 16.7366C3.63953 16.9023 4.2746 16.8565 4.83762 16.6084L5.01565 16.5213C5.31529 16.3516 5.62484 16.3109 5.91538 16.3871C6.20591 16.4633 6.45336 16.65 6.6027 16.9057C6.68504 17.0418 6.73337 17.1822 6.75063 17.3277L6.75912 17.4753C6.75765 18.8493 7.93219 20 9.38106 20H10.6164C11.9845 20 13.12 18.9703 13.231 17.6414L13.2391 17.4698C13.2383 17.1379 13.3582 16.8524 13.5727 16.6422C13.7872 16.432 14.0786 16.3146 14.382 16.316C14.5214 16.3199 14.6746 16.3541 14.8166 16.4163L14.9527 16.485C16.1011 17.1344 17.6058 16.8008 18.3808 15.7089L18.4803 15.557L19.1399 14.4804C19.495 13.8833 19.5912 13.1817 19.4119 12.523C19.253 11.9391 18.8887 11.4297 18.3843 11.0841L18.2174 10.9793C17.9272 10.8149 17.736 10.5708 17.658 10.2844C17.58 9.99795 17.6218 9.69291 17.7742 9.43678C17.8585 9.29258 17.9706 9.17256 18.1051 9.08068L18.3624 8.92228C19.4043 8.22927 19.7945 6.86519 19.2461 5.71842L19.1892 5.60674C19.1769 5.57762 19.1627 5.54922 19.1465 5.52174L18.5333 4.47928C17.8511 3.31918 16.3759 2.86897 15.146 3.4355L14.9821 3.51839C14.6882 3.68688 14.3779 3.72947 14.0857 3.65514C13.7935 3.58081 13.5435 3.39567 13.3908 3.14054C13.3124 3.01116 13.2641 2.87079 13.2468 2.72535L13.2383 2.57766C13.2599 1.94968 12.9925 1.27681 12.4983 0.778711C12.0041 0.280614 11.3251 -0.00028544 10.6161 0ZM9.38106 1.44774H10.6164C10.9264 1.44761 11.2229 1.57029 11.4387 1.78783C11.6546 2.00537 11.7713 2.29923 11.7624 2.60249L11.7756 2.85454C11.8203 3.23984 11.9357 3.57504 12.1181 3.87616C12.4673 4.45965 13.0423 4.88546 13.7143 5.05641C14.3863 5.22736 15.1001 5.12941 15.6983 4.78415L15.8015 4.73265L15.9125 4.6891C16.4009 4.52853 16.9764 4.73175 17.253 5.20208L17.8378 6.19726L17.8505 6.22529L17.9212 6.35884C18.1578 6.85504 17.9601 7.4827 17.448 7.77613L17.2873 7.87532C16.9464 8.10733 16.6849 8.38716 16.4946 8.71262C16.1471 9.29707 16.0509 9.99866 16.2302 10.6574C16.3932 11.2563 16.7716 11.7748 17.2922 12.1195L17.5645 12.2882C17.7566 12.4207 17.915 12.6422 17.9841 12.896C18.0621 13.1824 18.0203 13.4875 17.868 13.7436L17.2236 14.7957L17.1511 14.9067C16.8529 15.3258 16.2647 15.4814 15.7687 15.2682L15.4528 15.11C15.1004 14.9547 14.7556 14.8778 14.4053 14.8686C13.6914 14.865 13.0212 15.1351 12.5279 15.6185C12.0345 16.1019 11.7588 16.7585 11.7621 17.4421L11.7565 17.5511C11.7099 18.1023 11.2137 18.5523 10.6164 18.5523H9.38106C8.79047 18.5523 8.30426 18.1145 8.24205 17.552L8.2219 17.1985C8.17721 16.8132 8.06179 16.478 7.87937 16.1768C7.54028 15.5959 6.96861 15.1645 6.29737 14.9886C5.62614 14.8126 4.91096 14.9066 4.3108 15.2497L4.20208 15.3018C3.98569 15.3964 3.70831 15.4164 3.44842 15.344C3.1552 15.2624 2.90728 15.0696 2.75952 14.8084L2.13027 13.7449L2.07398 13.6383C1.83562 13.144 2.03354 12.5163 2.54639 12.2256L2.70219 12.1296C3.43413 11.634 3.85754 10.8446 3.85754 10C3.85754 9.14295 3.42197 8.34666 2.70395 7.871L2.44324 7.70925C1.98256 7.39466 1.83377 6.75044 2.13128 6.24455L2.78057 5.19925C3.1049 4.64815 3.8038 4.46315 4.3519 4.77085L4.54427 4.87026C4.90355 5.03293 5.25588 5.11034 5.61326 5.11398C6.99969 5.11416 8.13339 4.07087 8.23685 2.7415L8.25028 2.43661C8.27058 2.20741 8.38625 1.96196 8.57533 1.77582C8.78866 1.56581 9.07863 1.44774 9.38106 1.44774ZM10.0032 6.73182C8.16095 6.73182 6.66748 8.19503 6.66748 10C6.66748 11.805 8.16095 13.2682 10.0032 13.2682C11.8455 13.2682 13.339 11.805 13.339 10C13.339 8.19503 11.8455 6.73182 10.0032 6.73182ZM10.0032 8.17956C11.0294 8.17956 11.8613 8.9946 11.8613 10C11.8613 11.0054 11.0294 11.8204 10.0032 11.8204C8.97705 11.8204 8.14516 11.0054 8.14516 10C8.14516 8.9946 8.97705 8.17956 10.0032 8.17956Z",
      },
    ],
    []
  );
  const dispatch = useAppDispatch();
  return (
    <>
      <img
        src={navigation ? Times : Burger}
        onClick={() => dispatch(onToggleNavigation())}
        className={navigation ? "toggle-nav toggle-nav-opened" : "toggle-nav"}
        alt="Open and close navigation"
        style={modalCourse || taskForm ? { opacity: 0.3 } : { opacity: 1 }}
      />
      {navigation ? <Overlay /> : null}
      <nav
        className={navigation ? "navigation navigation-active" : "navigation"}
      >
        <Link to="/" className="navigation__logo">
          <img src={Logo} alt="Logo" onClick={() => dispatch(onClickLink())} />
        </Link>
        <ul className="navigation__list">
          {links.map((item, index): JSX.Element => {
            return (
              <CustomLink
                name={item.name}
                key={index}
                src={item.src}
                imageD={item.d}
              />
            );
          })}
        </ul>
        <img
          src={Greeting}
          alt="Greeting image"
          className="navigation__greeting"
        />
      </nav>
    </>
  );
};

export default Navigation;
